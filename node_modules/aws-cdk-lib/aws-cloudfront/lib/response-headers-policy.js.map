{
  "version": 3,
  "sources": ["response-headers-policy.ts"],
  "sourcesContent": ["import { Duration, Names, Resource } from '../../core';\nimport { Construct } from 'constructs';\nimport { CfnResponseHeadersPolicy } from './cloudfront.generated';\n\n                                                \nexport interface IResponseHeadersPolicy {\n                                                                       \n  readonly responseHeadersPolicyId: string;\n}\n\n                                                            \nexport interface ResponseHeadersPolicyProps {\n                                                                                                                    \n  readonly responseHeadersPolicyName?: string;\n\n                                                                                                   \n  readonly comment?: string;\n\n                                                                                                                                                                 \n  readonly corsBehavior?: ResponseHeadersCorsBehavior;\n\n                                                                                                                           \n  readonly customHeadersBehavior?: ResponseCustomHeadersBehavior;\n\n                                                                                                                                       \n  readonly securityHeadersBehavior?: ResponseSecurityHeadersBehavior;\n}\n\n                                                                                                         \nexport class ResponseHeadersPolicy extends Resource implements IResponseHeadersPolicy {\n\n                                                                               \n  public static readonly CORS_ALLOW_ALL_ORIGINS = ResponseHeadersPolicy.fromManagedResponseHeadersPolicy('60669652-455b-4ae9-85a4-c4c02393f86c');\n                                                                                                      \n  public static readonly CORS_ALLOW_ALL_ORIGINS_WITH_PREFLIGHT = ResponseHeadersPolicy.fromManagedResponseHeadersPolicy('5cc3b908-e619-4b99-88e5-2cf7f45965bd');\n                                                                                                                    \n  public static readonly SECURITY_HEADERS = ResponseHeadersPolicy.fromManagedResponseHeadersPolicy('67f7725c-6f97-4210-82d7-5512b31e9d03');\n                                                                                                                                                                   \n  public static readonly CORS_ALLOW_ALL_ORIGINS_AND_SECURITY_HEADERS = ResponseHeadersPolicy.fromManagedResponseHeadersPolicy('e61eb60c-9c35-4d20-a928-2b84e02af89c');\n                                                                                                                                                                                           \n  public static readonly CORS_ALLOW_ALL_ORIGINS_WITH_PREFLIGHT_AND_SECURITY_HEADERS = ResponseHeadersPolicy.fromManagedResponseHeadersPolicy('eaab4381-ed33-4a86-88ca-d9558dc6cd63');\n\n                                                                        \n  public static fromResponseHeadersPolicyId(scope: Construct, id: string, responseHeadersPolicyId: string): IResponseHeadersPolicy {\n    class Import extends Resource implements IResponseHeadersPolicy {\n      public readonly responseHeadersPolicyId = responseHeadersPolicyId;\n    }\n    return new Import(scope, id);\n  }\n\n  private static fromManagedResponseHeadersPolicy(managedResponseHeadersPolicyId: string): IResponseHeadersPolicy {\n    return new class implements IResponseHeadersPolicy {\n      public readonly responseHeadersPolicyId = managedResponseHeadersPolicyId;\n    };\n  }\n\n  public readonly responseHeadersPolicyId: string;\n\n  constructor(scope: Construct, id: string, props: ResponseHeadersPolicyProps = {}) {\n    super(scope, id, {\n      physicalName: props.responseHeadersPolicyName,\n    });\n\n    const responseHeadersPolicyName = props.responseHeadersPolicyName ?? Names.uniqueId(this);\n\n    const resource = new CfnResponseHeadersPolicy(this, 'Resource', {\n      responseHeadersPolicyConfig: {\n        name: responseHeadersPolicyName,\n        comment: props.comment,\n        corsConfig: props.corsBehavior ? this._renderCorsConfig(props.corsBehavior) : undefined,\n        customHeadersConfig: props.customHeadersBehavior ? this._renderCustomHeadersConfig(props.customHeadersBehavior) : undefined,\n        securityHeadersConfig: props.securityHeadersBehavior ? this._renderSecurityHeadersConfig(props.securityHeadersBehavior) : undefined,\n      },\n    });\n\n    this.responseHeadersPolicyId = resource.ref;\n  }\n\n  private _renderCorsConfig(behavior: ResponseHeadersCorsBehavior): CfnResponseHeadersPolicy.CorsConfigProperty {\n    return {\n      accessControlAllowCredentials: behavior.accessControlAllowCredentials,\n      accessControlAllowHeaders: { items: behavior.accessControlAllowHeaders },\n      accessControlAllowMethods: { items: behavior.accessControlAllowMethods },\n      accessControlAllowOrigins: { items: behavior.accessControlAllowOrigins },\n      accessControlExposeHeaders: behavior.accessControlExposeHeaders ? { items: behavior.accessControlExposeHeaders } : undefined,\n      accessControlMaxAgeSec: behavior.accessControlMaxAge ? behavior.accessControlMaxAge.toSeconds() : undefined,\n      originOverride: behavior.originOverride,\n    };\n  }\n\n  private _renderCustomHeadersConfig(behavior: ResponseCustomHeadersBehavior): CfnResponseHeadersPolicy.CustomHeadersConfigProperty {\n    return {\n      items: behavior.customHeaders,\n    };\n  }\n\n  private _renderSecurityHeadersConfig(behavior: ResponseSecurityHeadersBehavior): CfnResponseHeadersPolicy.SecurityHeadersConfigProperty {\n    return {\n      contentSecurityPolicy: behavior.contentSecurityPolicy,\n      contentTypeOptions: behavior.contentTypeOptions,\n      frameOptions: behavior.frameOptions,\n      referrerPolicy: behavior.referrerPolicy,\n      strictTransportSecurity: behavior.strictTransportSecurity ? {\n        ...behavior.strictTransportSecurity,\n        accessControlMaxAgeSec: behavior.strictTransportSecurity.accessControlMaxAge.toSeconds(),\n      }: undefined,\n      xssProtection: behavior.xssProtection,\n    };\n  }\n}\n\n                                                                                                                                                                                                                                                                                   \nexport interface ResponseHeadersCorsBehavior {\n                                                                                                                           \n  readonly accessControlAllowCredentials: boolean;\n\n                                                                                                                                                                                             \n  readonly accessControlAllowHeaders: string[];\n\n                                                                                                                                     \n  readonly accessControlAllowMethods: string[];\n\n                                                                                                                                                                                                   \n  readonly accessControlAllowOrigins: string[];\n\n                                                                                                                                                                                                                                  \n  readonly accessControlExposeHeaders?: string[];\n\n                                                                                                                                                \n  readonly accessControlMaxAge?: Duration;\n\n                                                                                                                                                                               \n  readonly originOverride: boolean;\n}\n\n                                                                                                                                                                          \nexport interface ResponseCustomHeadersBehavior {\n                                                                    \n  readonly customHeaders: ResponseCustomHeader[];\n}\n\n                                                                                                                                                                                                                       \nexport interface ResponseCustomHeader {\n                                               \n  readonly header: string;\n\n                                                                                                                                                                          \n  readonly override: boolean;\n\n                                                        \n  readonly value: string;\n}\n\n                                                                                                                                                                                                                                        \nexport interface ResponseSecurityHeadersBehavior {\n                                                                                                                                                                                                \n  readonly contentSecurityPolicy?: ResponseHeadersContentSecurityPolicy;\n\n                                                                                                                                                                                   \n  readonly contentTypeOptions?: ResponseHeadersContentTypeOptions;\n\n                                                                                                                                                              \n  readonly frameOptions?: ResponseHeadersFrameOptions;\n\n                                                                                                                                                                \n  readonly referrerPolicy?: ResponseHeadersReferrerPolicy;\n\n                                                                                                                                                                                    \n  readonly strictTransportSecurity?: ResponseHeadersStrictTransportSecurity;\n\n                                                                                                                                                                \n  readonly xssProtection?: ResponseHeadersXSSProtection;\n}\n\n                                                                                                                                          \nexport interface ResponseHeadersContentSecurityPolicy {\n                                                                                                                                                \n  readonly contentSecurityPolicy: string;\n\n                                                                                                                                                                                                              \n  readonly override: boolean;\n}\n\n                                                                                                                                \nexport interface ResponseHeadersContentTypeOptions {\n                                                                                                                                                                                                             \n  readonly override: boolean;\n}\n\n                                                                                                                  \nexport interface ResponseHeadersFrameOptions {\n                                                                       \n  readonly frameOption: HeadersFrameOption;\n\n                                                                                                                                                                                                      \n  readonly override: boolean;\n}\n\n                                                                                                                  \nexport interface ResponseHeadersReferrerPolicy {\n                                                                       \n  readonly referrerPolicy: HeadersReferrerPolicy;\n\n                                                                                                                                                                                                      \n  readonly override: boolean;\n}\n\n                                                                                                                            \nexport interface ResponseHeadersStrictTransportSecurity {\n                                                                                                                                            \n  readonly accessControlMaxAge: Duration;\n\n                                                                                                                                                                                      \n  readonly includeSubdomains?: boolean;\n\n                                                                                                                                                                                                                \n  readonly override: boolean;\n\n                                                                                                                                                                            \n  readonly preload?: boolean;\n}\n\n                                                                                                                   \nexport interface ResponseHeadersXSSProtection {\n                                                                                                                                                        \n  readonly modeBlock?: boolean;\n\n                                                                                                                                                                                                       \n  readonly override: boolean;\n\n                                                                                                                                                                                                                                                                 \n  readonly protection: boolean;\n\n                                                                                                                                                                                                                           \n  readonly reportUri?: string;\n}\n\n                                                                                         \nexport enum HeadersFrameOption {\n                                                                                                 \n  DENY = 'DENY',\n\n                                                                                   \n  SAMEORIGIN = 'SAMEORIGIN',\n}\n\n                                                                                         \nexport enum HeadersReferrerPolicy {\n                                                \n  NO_REFERRER = 'no-referrer',\n\n                                                                   \n  NO_REFERRER_WHEN_DOWNGRADE = 'no-referrer-when-downgrade',\n\n                                               \n  ORIGIN = 'origin',\n\n                                                                 \n  ORIGIN_WHEN_CROSS_ORIGIN = 'origin-when-cross-origin',\n\n                                                    \n  SAME_ORIGIN = 'same-origin',\n\n                                                      \n  STRICT_ORIGIN = 'strict-origin',\n\n                                                                        \n  STRICT_ORIGIN_WHEN_CROSS_ORIGIN = 'strict-origin-when-cross-origin',\n\n                                                   \n  UNSAFE_URL = 'unsafe-url',\n}\n"],
  "mappings": "qRAAA,OAAA,QAAA,cAEA,uBAAA,QAAA,0BA2BA,mCAA2C,QAAA,QAAQ,CA6BjD,YAAY,MAAkB,GAAY,MAAoC,GAAE,QAC9E,MAAM,MAAO,GAAI,CACf,aAAc,MAAM,iHAGtB,KAAM,2BAAyB,IAAG,MAAM,6BAAyB,MAAA,KAAA,OAAA,GAAI,OAAA,MAAM,SAAS,MAE9E,SAAW,GAAI,wBAAA,yBAAyB,KAAM,WAAY,CAC9D,4BAA6B,CAC3B,KAAM,0BACN,QAAS,MAAM,QACf,WAAY,MAAM,aAAe,KAAK,kBAAkB,MAAM,cAAgB,OAC9E,oBAAqB,MAAM,sBAAwB,KAAK,2BAA2B,MAAM,uBAAyB,OAClH,sBAAuB,MAAM,wBAA0B,KAAK,6BAA6B,MAAM,yBAA2B,UAI9H,KAAK,wBAA0B,SAAS,UAhC5B,6BAA4B,MAAkB,GAAY,wBAA+B,CACrG,oBAAqB,QAAA,QAAQ,CAA7B,aAAA,qBACkB,KAAA,wBAA0B,yBAE5C,MAAO,IAAI,QAAO,MAAO,UAGZ,kCAAiC,+BAAsC,CACpF,MAAO,IAAI,MAAA,CAAA,aAAA,CACO,KAAA,wBAA0B,iCA0BtC,kBAAkB,SAAqC,CAC7D,MAAO,CACL,8BAA+B,SAAS,8BACxC,0BAA2B,CAAE,MAAO,SAAS,2BAC7C,0BAA2B,CAAE,MAAO,SAAS,2BAC7C,0BAA2B,CAAE,MAAO,SAAS,2BAC7C,2BAA4B,SAAS,2BAA6B,CAAE,MAAO,SAAS,4BAA+B,OACnH,uBAAwB,SAAS,oBAAsB,SAAS,oBAAoB,YAAc,OAClG,eAAgB,SAAS,gBAIrB,2BAA2B,SAAuC,CACxE,MAAO,CACL,MAAO,SAAS,eAIZ,6BAA6B,SAAyC,CAC5E,MAAO,CACL,sBAAuB,SAAS,sBAChC,mBAAoB,SAAS,mBAC7B,aAAc,SAAS,aACvB,eAAgB,SAAS,eACzB,wBAAyB,SAAS,wBAA0B,IACvD,SAAS,wBACZ,uBAAwB,SAAS,wBAAwB,oBAAoB,aAC5E,OACH,cAAe,SAAS,gBA7E9B,QAAA,sBAAA,+IAGyB,sBAAA,uBAAyB,sBAAsB,iCAAiC,wCAEhF,sBAAA,sCAAwC,sBAAsB,iCAAiC,wCAE/F,sBAAA,iBAAmB,sBAAsB,iCAAiC,wCAE1E,sBAAA,4CAA8C,sBAAsB,iCAAiC,wCAErG,sBAAA,2DAA6D,sBAAsB,iCAAiC,wCAsM7I,GAAY,oBAAZ,AAAA,UAAY,oBAAkB,CAE5B,oBAAA,KAAA,OAGA,oBAAA,WAAA,eALU,mBAAA,QAAA,oBAAA,SAAA,mBAAkB,KAS9B,GAAY,uBAAZ,AAAA,UAAY,uBAAqB,CAE/B,uBAAA,YAAA,cAGA,uBAAA,2BAAA,6BAGA,uBAAA,OAAA,SAGA,uBAAA,yBAAA,2BAGA,uBAAA,YAAA,cAGA,uBAAA,cAAA,gBAGA,uBAAA,gCAAA,kCAGA,uBAAA,WAAA,eAvBU,sBAAA,QAAA,uBAAA,SAAA,sBAAqB",
  "names": []
}
