{
  "version": 3,
  "sources": ["k8s-object-value.ts"],
  "sourcesContent": ["import { CustomResource, Token, Duration } from '../../core';\nimport { Construct } from 'constructs';\nimport { ICluster } from './cluster';\nimport { KubectlProvider } from './kubectl-provider';\n\n                                                \nexport interface KubernetesObjectValueProps {\n                                                                                                        \n  readonly cluster: ICluster;\n\n                                                                    \n  readonly objectType: string;\n\n                                                 \n  readonly objectName: string;\n\n                                                                                  \n  readonly objectNamespace?: string;\n\n                                                                                                                      \n  readonly jsonPath: string;\n\n                                                                                       \n  readonly timeout?: Duration;\n\n}\n\n                                                                                                                                                        \nexport class KubernetesObjectValue extends Construct {\n                                                  \n  public static readonly RESOURCE_TYPE = 'Custom::AWSCDK-EKS-KubernetesObjectValue';\n\n  private _resource: CustomResource;\n\n  constructor(scope: Construct, id: string, props: KubernetesObjectValueProps) {\n    super(scope, id);\n\n    const provider = KubectlProvider.getOrCreate(this, props.cluster);\n\n    this._resource = new CustomResource(this, 'Resource', {\n      resourceType: KubernetesObjectValue.RESOURCE_TYPE,\n      serviceToken: provider.serviceToken,\n      properties: {\n        ClusterName: props.cluster.clusterName,\n        RoleArn: provider.roleArn,\n        ObjectType: props.objectType,\n        ObjectName: props.objectName,\n        ObjectNamespace: props.objectNamespace ?? 'default',\n        JsonPath: props.jsonPath,\n        TimeoutSeconds: (props?.timeout ?? Duration.minutes(5)).toSeconds(),\n      },\n    });\n\n  }\n\n                                             \n  public get value(): string {\n    return Token.asString(this._resource.getAtt('Value'));\n  }\n}\n"],
  "mappings": "4NAAA,OAAA,QAAA,cACA,aAAA,QAAA,cAEA,mBAAA,QAAA,sBAyBA,mCAA2C,cAAA,SAAS,CAMlD,YAAY,MAAkB,GAAY,MAAiC,WACzE,MAAM,MAAO,kFAEb,KAAM,UAAW,mBAAA,gBAAgB,YAAY,KAAM,MAAM,SAEzD,KAAK,UAAY,GAAI,QAAA,eAAe,KAAM,WAAY,CACpD,aAAc,sBAAsB,cACpC,aAAc,SAAS,aACvB,WAAY,CACV,YAAa,MAAM,QAAQ,YAC3B,QAAS,SAAS,QAClB,WAAY,MAAM,WAClB,WAAY,MAAM,WAClB,gBAAe,IAAE,MAAM,mBAAe,MAAA,KAAA,OAAA,GAAI,UAC1C,SAAU,MAAM,SAChB,eAAgB,KAAC,OAAK,KAAA,OAAL,MAAO,WAAO,MAAA,KAAA,OAAA,GAAI,OAAA,SAAS,QAAQ,IAAI,kBAOnD,QAAK,CACd,MAAO,QAAA,MAAM,SAAS,KAAK,UAAU,OAAO,WA7BhD,QAAA,sBAAA,wIAEyB,sBAAA,cAAgB",
  "names": []
}
