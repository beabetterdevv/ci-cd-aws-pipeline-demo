{
  "version": 3,
  "sources": ["condition.ts"],
  "sourcesContent": ["                                                       \nexport abstract class Condition {\n\n                                               \n  public static isPresent(variable: string): Condition {\n    return new VariableComparison(variable, ComparisonOperator.IsPresent, true);\n  }\n\n                                                   \n  public static isNotPresent(variable: string): Condition {\n    return new VariableComparison(variable, ComparisonOperator.IsPresent, false);\n  }\n\n                                                \n  public static isString(variable: string): Condition {\n    return new VariableComparison(variable, ComparisonOperator.IsString, true);\n  }\n\n                                                    \n  public static isNotString(variable: string): Condition {\n    return new VariableComparison(variable, ComparisonOperator.IsString, false);\n  }\n\n                                               \n  public static isNumeric(variable: string): Condition {\n    return new VariableComparison(variable, ComparisonOperator.IsNumeric, true);\n  }\n\n                                                   \n  public static isNotNumeric(variable: string): Condition {\n    return new VariableComparison(variable, ComparisonOperator.IsNumeric, false);\n  }\n\n                                               \n  public static isBoolean(variable: string): Condition {\n    return new VariableComparison(variable, ComparisonOperator.IsBoolean, true);\n  }\n\n                                                   \n  public static isNotBoolean(variable: string): Condition {\n    return new VariableComparison(variable, ComparisonOperator.IsBoolean, false);\n  }\n\n                                                   \n  public static isTimestamp(variable: string): Condition {\n    return new VariableComparison(variable, ComparisonOperator.IsTimestamp, true);\n  }\n\n                                                       \n  public static isNotTimestamp(variable: string): Condition {\n    return new VariableComparison(variable, ComparisonOperator.IsTimestamp, false);\n  }\n\n                                                \n  public static isNotNull(variable: string): Condition {\n    return new VariableComparison(variable, ComparisonOperator.IsNull, false);\n  }\n                                            \n  public static isNull(variable: string): Condition {\n    return new VariableComparison(variable, ComparisonOperator.IsNull, true);\n  }\n                                                               \n  public static booleanEquals(variable: string, value: boolean): Condition {\n    return new VariableComparison(variable, ComparisonOperator.BooleanEquals, value);\n  }\n\n                                                                                     \n  public static booleanEqualsJsonPath(variable: string, value: string): Condition {\n    return new VariableComparison(variable, ComparisonOperator.BooleanEqualsPath, value);\n  }\n\n                                                                                    \n  public static stringEqualsJsonPath(variable: string, value: string): Condition {\n    return new VariableComparison(variable, ComparisonOperator.StringEqualsPath, value);\n  }\n\n                                                              \n  public static stringEquals(variable: string, value: string): Condition {\n    return new VariableComparison(variable, ComparisonOperator.StringEquals, value);\n  }\n\n                                                                     \n  public static stringLessThan(variable: string, value: string): Condition {\n    return new VariableComparison(variable, ComparisonOperator.StringLessThan, value);\n  }\n\n                                                                                             \n  public static stringLessThanJsonPath(variable: string, value: string): Condition {\n    return new VariableComparison(variable, ComparisonOperator.StringLessThanPath, value);\n  }\n\n                                                                                 \n  public static stringLessThanEquals(variable: string, value: string): Condition {\n    return new VariableComparison(variable, ComparisonOperator.StringLessThanEquals, value);\n  }\n\n                                                                                   \n  public static stringLessThanEqualsJsonPath(variable: string, value: string): Condition {\n    return new VariableComparison(variable, ComparisonOperator.StringLessThanEqualsPath, value);\n  }\n\n                                                                    \n  public static stringGreaterThan(variable: string, value: string): Condition {\n    return new VariableComparison(variable, ComparisonOperator.StringGreaterThan, value);\n  }\n\n                                                                                      \n  public static stringGreaterThanJsonPath(variable: string, value: string): Condition {\n    return new VariableComparison(variable, ComparisonOperator.StringGreaterThanPath, value);\n  }\n\n                                                                                                \n  public static stringGreaterThanEqualsJsonPath(variable: string, value: string): Condition {\n    return new VariableComparison(variable, ComparisonOperator.StringGreaterThanEqualsPath, value);\n  }\n\n                                                                                \n  public static stringGreaterThanEquals(variable: string, value: string): Condition {\n    return new VariableComparison(variable, ComparisonOperator.StringGreaterThanEquals, value);\n  }\n\n                                                               \n  public static numberEquals(variable: string, value: number): Condition {\n    return new VariableComparison(variable, ComparisonOperator.NumericEquals, value);\n  }\n\n                                                                                 \n  public static numberEqualsJsonPath(variable: string, value: string): Condition {\n    return new VariableComparison(variable, ComparisonOperator.NumericEqualsPath, value);\n  }\n\n                                                                        \n  public static numberLessThan(variable: string, value: number): Condition {\n    return new VariableComparison(variable, ComparisonOperator.NumericLessThan, value);\n  }\n\n                                                                                            \n  public static numberLessThanJsonPath(variable: string, value: string): Condition {\n    return new VariableComparison(variable, ComparisonOperator.NumericLessThanPath, value);\n  }\n\n                                                                                    \n  public static numberLessThanEquals(variable: string, value: number): Condition {\n    return new VariableComparison(variable, ComparisonOperator.NumericLessThanEquals, value);\n  }\n\n                                                                                                            \n  public static numberLessThanEqualsJsonPath(variable: string, value: string): Condition {\n    return new VariableComparison(variable, ComparisonOperator.NumericLessThanEqualsPath, value);\n  }\n\n                                                                           \n  public static numberGreaterThan(variable: string, value: number): Condition {\n    return new VariableComparison(variable, ComparisonOperator.NumericGreaterThan, value);\n  }\n\n                                                                                             \n  public static numberGreaterThanJsonPath(variable: string, value: string): Condition {\n    return new VariableComparison(variable, ComparisonOperator.NumericGreaterThanPath, value);\n  }\n\n                                                                                       \n  public static numberGreaterThanEquals(variable: string, value: number): Condition {\n    return new VariableComparison(variable, ComparisonOperator.NumericGreaterThanEquals, value);\n  }\n\n                                                                                                         \n  public static numberGreaterThanEqualsJsonPath(variable: string, value: string): Condition {\n    return new VariableComparison(variable, ComparisonOperator.NumericGreaterThanEqualsPath, value);\n  }\n\n                                                                                     \n  public static timestampEquals(variable: string, value: string): Condition {\n    return new VariableComparison(variable, ComparisonOperator.TimestampEquals, value);\n  }\n\n                                                                                                       \n  public static timestampEqualsJsonPath(variable: string, value: string): Condition {\n    return new VariableComparison(variable, ComparisonOperator.TimestampEqualsPath, value);\n  }\n\n                                                                           \n  public static timestampLessThan(variable: string, value: string): Condition {\n    return new VariableComparison(variable, ComparisonOperator.TimestampLessThan, value);\n  }\n\n                                                                                             \n  public static timestampLessThanJsonPath(variable: string, value: string): Condition {\n    return new VariableComparison(variable, ComparisonOperator.TimestampLessThanPath, value);\n  }\n\n                                                                                       \n  public static timestampLessThanEquals(variable: string, value: string): Condition {\n    return new VariableComparison(variable, ComparisonOperator.TimestampLessThanEquals, value);\n  }\n\n                                                                                                         \n  public static timestampLessThanEqualsJsonPath(variable: string, value: string): Condition {\n    return new VariableComparison(variable, ComparisonOperator.TimestampLessThanEqualsPath, value);\n  }\n\n                                                                          \n  public static timestampGreaterThan(variable: string, value: string): Condition {\n    return new VariableComparison(variable, ComparisonOperator.TimestampGreaterThan, value);\n  }\n\n                                                                                            \n  public static timestampGreaterThanJsonPath(variable: string, value: string): Condition {\n    return new VariableComparison(variable, ComparisonOperator.TimestampGreaterThanPath, value);\n  }\n\n                                                                                      \n  public static timestampGreaterThanEquals(variable: string, value: string): Condition {\n    return new VariableComparison(variable, ComparisonOperator.TimestampGreaterThanEquals, value);\n  }\n\n                                                                                                        \n  public static timestampGreaterThanEqualsJsonPath(variable: string, value: string): Condition {\n    return new VariableComparison(variable, ComparisonOperator.TimestampGreaterThanEqualsPath, value);\n  }\n\n                                                                                                                                                                                                                  \n  public static stringMatches(variable: string, value: string): Condition {\n    return new VariableComparison(variable, ComparisonOperator.StringMatches, value);\n  }\n\n                                                                  \n  public static and(...conditions: Condition[]): Condition {\n    return new CompoundCondition(CompoundOperator.And, ...conditions);\n  }\n\n                                                                 \n  public static or(...conditions: Condition[]): Condition {\n    return new CompoundCondition(CompoundOperator.Or, ...conditions);\n  }\n\n                                   \n  public static not(condition: Condition): Condition {\n    return new NotCondition(condition);\n  }\n\n                                                                     \n  public abstract renderCondition(): any;\n}\n\n/**\n * Comparison Operator types\n */\nenum ComparisonOperator {\n  StringEquals,\n  StringEqualsPath,\n  StringLessThan,\n  StringLessThanPath,\n  StringGreaterThan,\n  StringGreaterThanPath,\n  StringLessThanEquals,\n  StringLessThanEqualsPath,\n  StringGreaterThanEquals,\n  StringGreaterThanEqualsPath,\n  NumericEquals,\n  NumericEqualsPath,\n  NumericLessThan,\n  NumericLessThanPath,\n  NumericGreaterThan,\n  NumericGreaterThanPath,\n  NumericLessThanEquals,\n  NumericLessThanEqualsPath,\n  NumericGreaterThanEquals,\n  NumericGreaterThanEqualsPath,\n  BooleanEquals,\n  BooleanEqualsPath,\n  TimestampEquals,\n  TimestampEqualsPath,\n  TimestampLessThan,\n  TimestampLessThanPath,\n  TimestampGreaterThan,\n  TimestampGreaterThanPath,\n  TimestampLessThanEquals,\n  TimestampLessThanEqualsPath,\n  TimestampGreaterThanEquals,\n  TimestampGreaterThanEqualsPath,\n  IsNull,\n  IsBoolean,\n  IsNumeric,\n  IsString,\n  IsTimestamp,\n  IsPresent,\n  StringMatches,\n\n}\n\n/**\n * Compound Operator types\n */\nenum CompoundOperator {\n  And,\n  Or,\n}\n\n/**\n * Scalar comparison\n */\nclass VariableComparison extends Condition {\n  constructor(private readonly variable: string, private readonly comparisonOperator: ComparisonOperator, private readonly value: any) {\n    super();\n    if (!/^\\$|(\\$[.[])/.test(variable)) {\n      throw new Error(`Variable reference must be '$', start with '$.', or start with '$[', got '${variable}'`);\n    }\n  }\n\n  public renderCondition(): any {\n    return {\n      Variable: this.variable,\n      [ComparisonOperator[this.comparisonOperator]]: this.value,\n    };\n  }\n}\n\n/**\n * Logical compound condition\n */\nclass CompoundCondition extends Condition {\n  private readonly conditions: Condition[];\n\n  constructor(private readonly operator: CompoundOperator, ...conditions: Condition[]) {\n    super();\n    this.conditions = conditions;\n    if (conditions.length === 0) {\n      throw new Error('Must supply at least one inner condition for a logical combination');\n    }\n  }\n\n  public renderCondition(): any {\n    return {\n      [CompoundOperator[this.operator]]: this.conditions.map(c => c.renderCondition()),\n    };\n  }\n}\n\n/**\n * Logical unary condition\n */\nclass NotCondition extends Condition {\n  constructor(private readonly comparisonOperation: Condition) {\n    super();\n  }\n\n  public renderCondition(): any {\n    return {\n      Not: this.comparisonOperation.renderCondition(),\n    };\n  }\n}\n"],
  "mappings": "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",
  "names": []
}
