{
  "version": 3,
  "sources": ["signing-profile.ts"],
  "sourcesContent": ["import { Duration, IResource, Resource, Stack } from '../../core';\nimport { Construct } from 'constructs';\nimport { CfnSigningProfile } from './signer.generated';\n\n                                                                                                                                            \nexport class Platform {\n                                                                                             \n  public static readonly AWS_IOT_DEVICE_MANAGEMENT_SHA256_ECDSA = new Platform('AWSIoTDeviceManagement-SHA256-ECDSA');\n\n                                                                                         \n  public static readonly AWS_LAMBDA_SHA384_ECDSA = new Platform('AWSLambda-SHA384-ECDSA');\n\n                                                                                                                                     \n  public static readonly AMAZON_FREE_RTOS_TI_CC3220SF = new Platform('AmazonFreeRTOS-TI-CC3220SF');\n\n                                                                                                                                         \n  public static readonly AMAZON_FREE_RTOS_DEFAULT = new Platform('AmazonFreeRTOS-Default');\n\n                                                                                                                                                                                                  \n  public readonly platformId: string;\n\n  private constructor(platformId: string) {\n    this.platformId = platformId;\n  }\n}\n\n                           \nexport interface ISigningProfile extends IResource {\n                                                                \n  readonly signingProfileArn: string;\n\n                                                                         \n  readonly signingProfileName: string;\n\n                                                                               \n  readonly signingProfileVersion: string;\n\n                                                                                      \n  readonly signingProfileVersionArn: string;\n}\n\n                                                               \nexport interface SigningProfileProps {\n                                                                                                                                                        \n  readonly platform: Platform;\n\n                                                                                                                              \n  readonly signatureValidity?: Duration;\n\n                                                                                                                      \n  readonly signingProfileName?: string;\n}\n\n                                           \nexport interface SigningProfileAttributes {\n                                             \n  readonly signingProfileName: string;\n\n                                                \n  readonly signingProfileVersion: string;\n}\n\n                                                                                 \nexport class SigningProfile extends Resource implements ISigningProfile {\n                                                                                                                                                                                                                                                                    \n  public static fromSigningProfileAttributes( scope: Construct, id: string, attrs: SigningProfileAttributes): ISigningProfile {\n    class Import extends Resource implements ISigningProfile {\n      public readonly signingProfileArn: string;\n      public readonly signingProfileName = attrs.signingProfileName;\n      public readonly signingProfileVersion = attrs.signingProfileVersion;\n      public readonly signingProfileVersionArn: string;\n\n      constructor(signingProfileArn: string, signingProfileProfileVersionArn: string) {\n        super(scope, id);\n        this.signingProfileArn = signingProfileArn;\n        this.signingProfileVersionArn = signingProfileProfileVersionArn;\n      }\n    }\n    const signingProfileArn = Stack.of(scope).formatArn({\n      service: 'signer',\n      resource: '',\n      resourceName: `/signing-profiles/${attrs.signingProfileName}`,\n    });\n    const SigningProfileVersionArn = Stack.of(scope).formatArn({\n      service: 'signer',\n      resource: '',\n      resourceName: `/signing-profiles/${attrs.signingProfileName}/${attrs.signingProfileVersion}`,\n    });\n    return new Import(signingProfileArn, SigningProfileVersionArn);\n  }\n\n  public readonly signingProfileArn: string;\n  public readonly signingProfileName: string;\n  public readonly signingProfileVersion: string;\n  public readonly signingProfileVersionArn: string;\n\n  constructor(scope: Construct, id: string, props: SigningProfileProps) {\n    super(scope, id, {\n      physicalName: props.signingProfileName,\n    });\n\n    const resource = new CfnSigningProfile( this, 'Resource', {\n      platformId: props.platform.platformId,\n      signatureValidityPeriod: props.signatureValidity ? {\n        type: 'DAYS',\n        value: props.signatureValidity?.toDays(),\n      } : {\n        type: 'MONTHS',\n        value: 135,\n      },\n    } );\n\n    this.signingProfileArn = resource.attrArn;\n    this.signingProfileName = resource.attrProfileName;\n    this.signingProfileVersion = resource.attrProfileVersion;\n    this.signingProfileVersionArn = resource.attrProfileVersionArn;\n  }\n}\n"],
  "mappings": "yOAAA,OAAA,QAAA,cAEA,mBAAA,QAAA,sBAGA,cAAqB,CAgBnB,YAAoB,WAAkB,CACpC,KAAK,WAAa,YAjBtB,QAAA,SAAA,oGAEyB,SAAA,uCAAyC,GAAI,UAAS,uCAGtD,SAAA,wBAA0B,GAAI,UAAS,0BAGvC,SAAA,6BAA+B,GAAI,UAAS,8BAG5C,SAAA,yBAA2B,GAAI,UAAS,0BA+CjE,4BAAoC,QAAA,QAAQ,CAiC1C,YAAY,MAAkB,GAAY,MAA0B,QAClE,MAAM,MAAO,GAAI,CACf,aAAc,MAAM,+FAGtB,KAAM,UAAW,GAAI,oBAAA,kBAAmB,KAAM,WAAY,CACxD,WAAY,MAAM,SAAS,WAC3B,wBAAyB,MAAM,kBAAoB,CACjD,KAAM,OACN,MAAK,IAAE,MAAM,qBAAiB,MAAA,KAAA,OAAA,OAAA,GAAE,UAC9B,CACF,KAAM,SACN,MAAO,OAIX,KAAK,kBAAoB,SAAS,QAClC,KAAK,mBAAqB,SAAS,gBACnC,KAAK,sBAAwB,SAAS,mBACtC,KAAK,yBAA2B,SAAS,4BAlD7B,8BAA8B,MAAkB,GAAY,MAA+B,gFACvG,oBAAqB,QAAA,QAAQ,CAM3B,YAAY,mBAA2B,gCAAuC,CAC5E,MAAM,MAAO,IALC,KAAA,mBAAqB,MAAM,mBAC3B,KAAA,sBAAwB,MAAM,sBAK5C,KAAK,kBAAoB,mBACzB,KAAK,yBAA2B,iCAGpC,KAAM,mBAAoB,OAAA,MAAM,GAAG,OAAO,UAAU,CAClD,QAAS,SACT,SAAU,GACV,aAAc,qBAAqB,MAAM,uBAErC,yBAA2B,OAAA,MAAM,GAAG,OAAO,UAAU,CACzD,QAAS,SACT,SAAU,GACV,aAAc,qBAAqB,MAAM,sBAAsB,MAAM,0BAEvE,MAAO,IAAI,QAAO,kBAAmB,2BAzBzC,QAAA,eAAA",
  "names": []
}
